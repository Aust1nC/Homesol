<!-- Title start -->
<div class="mt-12 flex flex-col md:flex-row lg:text-start lg:justify-between">
  <div class="space-y-4 max-w-sm mx-auto text-center sm:text-left">
    <h2 class="text-3xl md:text-5xl">Order Information</h2>
  </div>
</div>
<!-- Title end -->

<div
  class="mt-12 flex flex-col gap-6 md:gap-3 md:flex-row lg:text-start lg:justify-between mx-auto"
>
  <!-- Personal Details Starts -->
  <div
    class="flex flex-1 basis-1/3 flex-col md:max-w-xl items-center w-full h-full"
  >
    <form [formGroup]="deliveryForm">
      <div class="bg-[#DAF1FD] rounded-md shadow-md p-4 px-4 md:p-8 mb-6">
        <div class="grid gap-4 gap-y-4 text-sm grid-cols-1">
          <div class="text-gray-600">
            <p class="font-medium text-lg">Personal Details</p>
            <p>Please fill out all the fields.</p>
          </div>

          <div class="lg:col-span-2">
            <div class="grid gap-4 gap-y-2 text-sm grid-cols-1 md:grid-cols-6">
              <div class="md:col-span-3">
                <label for="firstName">First Name</label>
                <input
                  formControlName="firstName"
                  type="text"
                  name="firstName"
                  id="firstName"
                  class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                  value=""
                />
              </div>
              <div class="md:col-span-3">
                <label for="lastName">Last Name</label>
                <input
                  formControlName="lastName"
                  type="text"
                  name="lastName"
                  id="lastName"
                  class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                  value=""
                />
              </div>

              <div class="md:col-span-6">
                <label for="email">Email Address</label>
                <input
                  formControlName="email"
                  type="text"
                  name="email"
                  id="email"
                  class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                  value=""
                  placeholder="email@domain.com"
                />
              </div>

              <div class="md:col-span-4">
                <label for="street">Street</label>
                <input
                  formControlName="street"
                  type="text"
                  name="street"
                  id="street"
                  class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                  value=""
                  placeholder=""
                />
              </div>

              <div class="md:col-span-2">
                <label for="city">City</label>
                <input
                  formControlName="city"
                  type="text"
                  name="city"
                  id="city"
                  class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                  value=""
                  placeholder=""
                />
              </div>

              <div class="md:col-span-4">
                <label for="county">County</label>
                <div
                  class="h-10 bg-gray-50 flex border border-gray-200 rounded items-center mt-1"
                >
                  <input
                    formControlName="county"
                    name="county"
                    id="county"
                    placeholder="county"
                    class="px-4 appearance-none outline-none text-gray-800 w-full bg-transparent"
                    [value]="deliveryForm.get('county')?.value"
                  />

                  <button
                    type="button"
                    (click)="toggleDropdown()"
                    for="show_more"
                    class="cursor-pointer outline-none focus:outline-none border-l border-gray-200 transition-all text-gray-300 hover:text-blue-600"
                  >
                    <svg
                      class="w-4 h-4 mx-2 fill-current"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                  </button>
                </div>
                <div
                  *ngIf="showDropdown"
                  class="absolute z-10 bg-white border border-gray-200 rounded mt-1 w-auto max-h-60 overflow-auto"
                >
                  <ul>
                    <li
                      *ngFor="let county of counties"
                      (click)="selectCounty(county)"
                      class="px-4 py-2 cursor-pointer hover:bg-gray-100"
                    >
                      {{ county }}
                    </li>
                  </ul>
                </div>
              </div>

              <div class="md:col-span-2">
                <label for="postcode">Postcode</label>
                <input
                  formControlName="postcode"
                  type="text"
                  name="postcode"
                  id="postcode"
                  class="transition-all flex items-center h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                  placeholder=""
                  value=""
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <!-- Personal Details Ends -->

  <!-- Kit Info Starts -->
  <div
    class="flex-1 space-y-4 basis-1/3 max-w-md md:max-w-lg md:pl-2 text-center sm:text-left mx-auto w-full"
  >
    <div class="flex flex-1 basis-1/4 flex-col md:max-w-xl items-center w-full">
      <div class="card w-4/5 h-auto md:h-max mx-auto bg-[#DAF1FD] rounded-md">
        <div class="pl-7 pt-9 text-start">
          <h1 class="text-3xl font-semibold">
            {{ rentalDuration }} Months Rental
          </h1>
        </div>
        <div class="card-body gap-7">
          <div
            class="flex flex-row justify-between items-center"
            *ngFor="let orderItem of orderItems"
          >
            <h3 class="text-lg font-normal">{{ orderItem.product.name }}</h3>
            <div class="flex items-center justify-between rounded-sm pr-10">
              <span class="font-bold text-xl">{{ orderItem.quantity }}</span>
            </div>
          </div>

          <hr class="border-[#8F9EA3] border-t-2" />
          <div class="flex flex-row justify-between items-center">
            <h1 class="text-3xl">Total</h1>
            <h1 class="text-3xl">{{ totalPrice | currency : "GBP" }}</h1>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Kit Info Ends -->
</div>

<div class="flex justify-center mt-4">
  <button
    class="w-[30%] my-6 tracking-wide font-semibold bg-[#38bdf8] text-gray-100 py-4 rounded-lg hover:bg-[#7dd3fc] transition-all duration-300 ease-in-out focus:shadow-outline focus:outline-none"
    (click)="onCheckout()"
  >
    Confirm Order
  </button>
</div>
